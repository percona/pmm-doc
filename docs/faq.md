# FAQ

## How can I contact the developers?

- [Community forum](https://www.percona.com/forums/questions-discussions/percona-monitoring-and-management).
- [Discord channel](https://discord.gg/qSRxH4Xu).
- [PMM project in JIRA](https://jira.percona.com/projects/PMM).

## What are the minimum system requirements for PMM?

See:

- [PMM Server](setting-up/server/index.md#system-requirements)
- [PMM Client](setting-up/client/index.md#system-requirements)

## How can I upgrade from PMM version 1?

See [Upgrade from PMM1](how-to/upgrade.md#upgrade-from-pmm1).

## How to control data retention for PMM?

See [How to configure Data retention](how-to/configure.md#data-retention).

## How often are NGINX logs in PMM Server rotated?

PMM Server runs `logrotate` on a daily basis to rotate NGINX logs and keeps up to ten of the most recent log files.

## What privileges are required to monitor a MySQL instance?

See [Setting Up PMM Client](setting-up/client/mysql.md#setting-up-client-user).

## Can I monitor multiple service instances?

You can add multiple instances of MySQL or some other service to be monitored from one PMM Client. In this case, you must provide a unique port and IP address, or a socket for each instance, and specify a unique name for each.  (If a name is not provided, PMM uses the name of the PMM Client host.)

For example, to add complete MySQL monitoring for two local MySQL servers, the commands would be:

```sh
pmm-admin add mysql --username root --password root instance-01 127.0.0.1:3001
pmm-admin add mysql --username root --password root instance-02 127.0.0.1:3002
```

For more information, run:

```sh
pmm-admin add mysql --help
```

## Can I rename instances?

You can remove any monitoring instance and then add it back with a different name.

When you remove a monitoring service, previously collected data remains available in Grafana.  However, the metrics are tied to the instance name.  So if you add the same instance back with a different name, it will be considered a new instance with a new set of metrics.  So if you are re-adding an instance and want to keep its previous data, add it with the same name.

## Can I add an AWS RDS MySQL or Aurora MySQL instance from a non-default AWS partition?

By default, the RDS discovery works with the default `aws` partition. But you can switch to special regions, like the [GovCloud](https://aws.amazon.com/govcloud-us/) one, with the alternative [AWS partitions](https://docs.aws.amazon.com/sdk-for-go/api/aws/endpoints/#pkg-constants) (e.g. `aws-us-gov`) adding them to the *Settings* via the PMM Server [API](details/api.md).

![image](_images/aws-partitions-in-api.png)

To specify other than the default value, or to use several, use the JSON Array syntax: `["aws", "aws-cn"]`.

## How do I troubleshoot communication issues between PMM Client and PMM Server?

See [Troubleshoot PMM Server/PMM Client connection](how-to/troubleshoot.md#troubleshoot-connection).

## What resolution is used for metrics?

See [Metrics resolution](how-to/configure.md#metrics-resolution).

## How do I set up Alerting in PMM?

When a monitored service metric reaches a defined threshold, PMM Server can trigger alerts for it either using the Grafana Alerting feature or by using an external alert manager.

With these methods you must configure alerting rules that define conditions under which an alert should be triggered, and the channel used to send the alert (e.g. email).

Alerting in Grafana allows attaching rules to your dashboard panels.  Grafana Alerts are already integrated into PMM Server and may be simpler to get set up.

Alertmanager allows the creation of more sophisticated alerting rules and can be easier to manage installations with a large number of hosts. This additional flexibility comes at the expense of simplicity.

We only offer support for creating custom rules to our customers, so you should already have a working Alertmanager instance prior to using this feature.

> **See also** [PMM Alerting with Grafana: Working with Templated Dashboards](https://www.percona.com/blog/2017/02/02/pmm-alerting-with-grafana-working-with-templated-dashboards/)

## How do I use a custom Prometheus configuration file inside PMM Server?

Normally, PMM Server fully manages the [Prometheus configuration file](https://prometheus.io/docs/prometheus/latest/configuration/configuration/).

However, some users may want to change the generated configuration to add additional scrape jobs, configure remote storage, etc.

From version 2.4.0, when `pmm-managed` starts the Prometheus file generation process, it tries to load the `/srv/prometheus/prometheus.base.yml` file first, to use it as a base for the `prometheus.yml` file.

The `prometheus.yml` file can be regenerated by restarting the PMM Server container, or by using the `SetSettings` API call with an empty body.

> **See also**
>
> - [API](details/api.md)
>
> - [Percona blog: Extending PMM’s Prometheus Configuration](https://www.percona.com/blog/2020/03/23/extending-pmm-prometheus-configuration/)

## How to troubleshoot an Update?

See [Troubleshoot update](how-to/troubleshoot.md#troubleshoot-update).

## What are my login credentials when I try to connect to a Prometheus Exporter?

PMM protects an exporter's output from unauthorized access by adding an authorization layer. To access an exporter you can use "`pmm`" as a user name and the Agent ID as a password. You can find the Agent ID corresponding to a given exporter by running `pmm-admin list`.

## How to provision PMM Server with non-default admin password?

Currently there is no API available to change the `admin` password. If you're deploying through Docker you can use the following code snippet to change the password after starting the Docker container:

```sh
PMMPASSWORD="mypassword"
echo "Waiting for PMM to initialize to set password..."
until [ "`docker inspect -f {{ extra.STATE_HEALTH_STATUS }} pmm2-server`" = "healthy" ]; do sleep 1; done
docker exec -t pmm2-server bash -c  "ln -s /srv/grafana /usr/share/grafana/data; grafana-cli --homepath /usr/share/grafana admin reset-admin-password $PMMPASSWORD"
```
