# Percona Monitoring and Management 2.30.0

| **Release date:** | Aug 22, 2022                                                                                    |
| ----------------- | ----------------------------------------------------------------------------------------------- |
| **Installation:** | [Installing Percona Monitoring and Management](https://www.percona.com/software/pmm/quickstart) |

Percona Monitoring and Management (PMM) is an open source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB.

!!! caution alert alert-warning "Important"
    We recommend using the latest version of PMM. This ensures that you have access to the latest PMM features and that your environment runs on the latest version of the underlying components, such as VictoriaMetrics, with all the bug fixes in place.

## Release Highlights


#### New Experimental dashboards

!!! caution alert alert-warning "Important"
    These experimental dashboards aresubject to change. It is recommended to use these dashboards for testing purposes only.

- We have introduced a more user-friendly and insightful experimental Home Dashboard in PMM version 2.30.0. With this new Home dashboard, you can experience a boost in performance while monitoring a large number of nodes or services in PMM. Repeated rows (for a large number of nodes) on the dashboard can take a considerable time to load the Home Dashboard UI. Our new experimental dashboard ensures fast retrieval of data on the Home dashboard.

- We have introduced the following new real-time experimental dashboards to collect more metrics and data for MongoDB:

    - **Experimental MongoDB Collection Overview**
        
        This dashboard contains panels for data about the Hottest Collections in the MongoDB database.

    - **Experimental MongoDB Collection Details**

        This experimental dashboard provides detailed information about the top collections by document count, size, and document read for MongoDB databases.

    - **Experimental MongoDB Oplog Details**

        This real-time dashboard contains Oplog details such as Recovery Window, Processing Time, Buffer Capacity, and Oplog Operations.


### Database as a Service (DBaaS)

Enhanced the user experience by simplifying the configuration and deployment of DBaaS database clusters:

- With PMM 2.30.0, you can create a DB cluster literally at the click of a button. All the fields will be automatically populated with the default value. Click Register, and your DB cluster is created.

- You can easily create a Kubernetes cluster with PMM 2.30.0. When you copy the value of the Kubeconfig file, the Kubernetes Cluster Name gets auto-populated from the contents of the kubeconfig file.

- Configuring DbaaS is now much simpler as the the public server address of the PMM server is displayed. 


### Operators support

- PMM now supports Percona Operators MySQL (1.11) and mongoDB (1.12).

- PMM now provides MongoDB v5 deployment support. 




## New Features

- [PMM-9652](https://jira.percona.com/browse/PMM-9652): New experimental dashboards for MongoDB are now available with more MongoDB metrics and data like Hottest collections, Data Size, recovery Window, Processing Time, Buffer Capacity, Oplog Operations, and so on.

- [PMM-10367](https://jira.percona.com/browse/PMM-10367): We have introduced a new experimental Home Dashboard in PMM version 2.30.0. The primary goal of this Home dashboard is to improve the performance while monitoring a large number of nodes or services in PMM. Repeated rows (for a large number of nodes) on the dashboard can take a considerable time to load Home Dashboard UI. So, to address this issue, we have developed a very user-friendly and insightful new experimental Home Dashboard.

- [PMM-10327](https://jira.percona.com/browse/PMM-10327):  You can create a free K8s cluster via Percona Platform Portal and use it for testing DBaaS in PMM.
    
    !!! note alert alert-primary ""
        For instructions about how to access your instances by using an SSH client, see [Connecting to Your Linux Instance Using SSH](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html)

 

## Improvements

- [PMM-10340](https://jira.percona.com/browse/PMM-10340): DBaas: Enhanced user experience to simplify DBaaS configuration and deployment of Database clusters with suggestions on k8s cluster name based on k8s config file.
  
- [PMM-10351](https://jira.percona.com/browse/PMM-10351): DBaaS: Full form of DBaaS (Database as a Service) is displayed on the Dashboard for clarity for the new users.  

- [PMM-10368](https://jira.percona.com/browse/PMM-10368) - Simpler DBaaS and Percona Platform connection configuration by suggesting the public server address of the PMM server.

- [PMM-10147](https://jira.percona.com/browse/PMM-10147): Limited the number of jobs and actions to 32 that could be run concurrently by pmm-agent. That limit can be changed with the flag `--runner-capacity=<some number>` or environment variable `PMM_AGENT_RUNNER_CAPACITY=<some number>`. This feature helps to minimize resource consumption and the number of open DB connections.


- [PMM-10018](https://jira.percona.com/browse/PMM-10018): For optimum resource utilization when deploying a PXC DBaaS cluster, we have lowered the default CPU and Memory resources (CPU: 500m, memory: 500M).
 
- [PMM-5680](https://jira.percona.com/browse/PMM-5680): For an enhanced and simplified troubleshooting experience, we have added the following logs in a ZIP file in the ~/pmm-agent/ folder, which you can obtain from the pmm-admin-summary command:
        - nmysqld_exporter logs
        - mongodb_exporter logs
        - qan agent logs
        - pmm-agent log

  
- [PMM-7326](https://jira.percona.com/browse/PMM-7326): You now have more control over the logs you want to view with the **--log-level** parameter. With this enhancement, you can experience more pronounced logging with the flexibility to choose options such as warning, error, and fatal.
  
- [PMM-8566](https://jira.percona.com/browse/PMM-8566): For enhanced security, you can now specify the custom Basic Auth password for agents when adding a Node.
  
- [PMM-9362](https://jira.percona.com/browse/PMM-9362): PMM Admins can now disconnect servers from Percona Platform even if they are not logged in with a Percona Account Percona Account. 
    
- [PMM-6592](https://jira.percona.com/browse/PMM-6592): PMM now displays the ports used by the exporters in the output of the pmm- admin list and status commands, which are crucial while debugging.
  
- [PMM-7110](https://jira.percona.com/browse/PMM-7110): You can now use the pprof parameter in the pmm-admin summary command to obtain profiling data from the PMM server, thereby enabling you to generate reports in textual and graphical formats to visualize and analyze data.

- [PMM-7186](https://jira.percona.com/browse/PMM-7186): The pmm-admin summary command now retrieves a list of targets scraped by Victoriametrics on the client-side.

- [PMM-8308](https://jira.percona.com/browse/PMM-8308): To enhance the troubleshooting experience, in addition to the information summary and archive, you can now view the paths for all the exporters managed by the pmm-agent in the diagnostic data.

- [PMM-9650](https://jira.percona.com/browse/PMM-9650): Created a new experimental dashboard for PXC Cluster Summary to make it simple and intuitive.


- [PMM-10039](https://jira.percona.com/browse/PMM-10039): VictoriaMetrics operator has been upgraded to 0.24.

- [PMM-10083](https://jira.percona.com/browse/PMM-10083): Upgraded the ClickHouse plugin to 2.4.4, which fixes some of the CVEs.

- [PMM-10103](https://jira.percona.com/browse/PMM-10103): Added RHEL 9 support for PMM client.

- [PMM-10155](https://jira.percona.com/browse/PMM-10155): Access QAN from the main menu instead of the PMM dashboard for better reach and visibility.

- [PMM-2038](https://jira.percona.com/browse/PMM-2038): Starting with PMM 2.29.0, we have upgraded the mysqld exporter to the upstream version.

- [PMM-9913](https://jira.percona.com/browse/PMM-9913): PMM removes all the unnecessary temporary files created while adding a monitoring service, which might impact your PMM server's performance if not deleted.
- [PMM-10067](https://jira.percona.com/browse/PMM-10067): Updated the version of Percona Toolkit to 3.4.0.


## Bugs Fixed

- [PMM-10127](https://jira.percona.com/browse/PMM-10127): Alerting: Fixed issue where changing the page under **Integrated Alerting > Alerts** would not update the list of results.
 
- [PMM-10110](https://jira.percona.com/browse/PMM-10110): DBaas: Fixed an issue where an incorrect operator version was installed.

- [PMM-9965](https://jira.percona.com/browse/PMM-9965): DBaas: Fixed an issue where re-registering a K8s cluster returned an error.

- [PMM-7143](https://jira.percona.com/browse/PMM-7143): DBaaS: Fixed an issue where proper node metrics were not exposed for database instances created with DBaaS.

- [PMM-8677](https://jira.percona.com/browse/PMM-8677): DBaaS: Fixed the names of the operators used in PMM on the DBaaS UI to reflect their official names rather than short forms.

- [PMM-9998](https://jira.percona.com/browse/PMM-9998): Fixed an issue where 'Unknown column...' errors are thrown when monitoring MariaDB from the Debian package (10.2, 10.3, 10.4, 10.5).

- [PMM-10144](https://jira.percona.com/browse/PMM-10144): Fixed an issue where if an already existing service was added via CLI, incorrect output was being displayed. 

- [PMM-9320](https://jira.percona.com/browse/PMM-9320): Fixed an issue where it was impossible to add MongoDB to PMM when the password contained “+.”

- [PMM-9909](https://jira.percona.com/browse/PMM-9909):  Fixed an issue where the redirection from Home Dashboard Stats Panel to Node Summary did not work.

- [PMM-10049](https://jira.percona.com/browse/PMM-10049): Removed unnecessary error messages from the pmm-agent log.

- [PMM-8819](https://jira.percona.com/browse/PMM-8819): Fixed an issue where the metric data displayed in the table was not appropriately aligned.

- [PMM-10087](https://jira.percona.com/browse/PMM-10087): PMM would show an “Internal server error” for custom alert rules created with a **"ia=1"** label. This issue is now fixed.

- [PMM-7462](https://jira.percona.com/browse/PMM-7462): Fixed an issue where you can update the PMM settings via the UI if they are not provided as an Environment variable.

- [PMM-9510](https://jira.percona.com/browse/PMM-9292): Fixed incorrect and duplicate information displayed on the Dashboard for MongoDB Replica Set.

- [PMM-9910](https://jira.percona.com/browse/PMM-9910): Fixed an issue where upgrading PMM from 2.26.0 to 2.27.0 via the UI failed due to a GRPC error.

- [PMM-9981](https://jira.percona.com/browse/PMM-9981): Enormous space usage and slow queries for Group replication monitoring
  
- [PMM-10069](https://jira.percona.com/browse/PMM-10069): Fixed a typo in the tooltip for InnoDB Random Read Ahead.
  
- [PMM-10161](https://jira.percona.com/browse/PMM-10161): Removed unnecessary breadcrumb navigation panel from all dashboards.
