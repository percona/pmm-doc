# Percona Monitoring and Management 2.38.0

| **Release date:** | Aug 7, 2023                                                                                    |
| ----------------- | ----------------------------------------------------------------------------------------------- |
| **Installation:** | [Installing Percona Monitoring and Management](https://www.percona.com/software/pmm/quickstart) |

Percona Monitoring and Management (PMM) is an open-source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB.

<!---
!!! caution alert alert-warning "Important/Caution"
    Crucial points that need emphasis:

    - Important: A significant point that deserves emphasis.
    - Caution: Used to mean 'Continue with care'.
 --->

## Release Highlights

### MongoDB backups: UI-based restore on a new replica set cluster

Building on the recent MongoDB backup management enhancements, we have now added the option to restore backups on different clusters with the same configuration. This enables you to test restore data before deploying it on Dev environments. 
Restoring on different clusters is not available for sharded clusters. This is a complicated process that still requires manual intervention. For more information, see [Restoring from a sharded cluster]()

### Query Analytics - Meta information

QAN is an important tool that can help filter data and identify problematic queries. However, it can be challenging to determine which services, nodes, and other labels are linked to these queries. PMM 2.39.0 now includes a metadata table for QAN to address this issue. This table contains information such as Node name, Node ID, Service name, Service Type, and user name for each selected query. With this feature, you can easily identify the services, nodes, and labels associated with your identified queries.

To acesss te metadata table, from the main menu select **Query Analytics(QAN)**. The **Query Analytics** page opens. Select the query and then expand the **Metadata** tab. You can see the metadata for that particular query.



## Improvements

- [PMM-6279](https://jira.percona.com/browse/PMM-6279) - [QAN]: Query metadata not visible in new UI
- [PMM-10270](https://jira.percona.com/browse/PMM-10270) -[Backup Management]: Enhanced MongoDB Backup Management to support restoring to different replica set clusters with the same configuration.
- [PMM-11999](https://jira.percona.com/browse/PMM-11999) - [Advisors]: Expose check family field in advisors API
- [PMM-12257](https://jira.percona.com/browse/PMM-12257) - [Advisors]: The **Advisors** page now includes a new **Technology** column, showing the database type for each advisor in the table. This helps you easily differentiate between the MongoDB, MySQL and PostgreSQL	advisors.
- [PMM-11637](https://jira.percona.com/browse/PMM-11637) - In PMM 2.39.0, we updated the interface to reflect the new PMM logo as per the new branding.
- [PMM-11206](https://jira.percona.com/browse/PMM-11206) - [Alerting]: Enhanced the **Add rule template** dialog box to support YAML content for multiple alert templates. Alert templates added in bulk are displayed individually on the **Alert rule templates** page.
 
## Components updates
- [PMM-12070](https://jira.percona.com/browse/PMM-12070) - We have updated the deprecated [Boomtable plugin](https://github.com/percona/grafana-dashboards/tree/main/panels/yesoreyeram-boomtable-panel) to the Grafana table plugin.
 
## Bugs Fixed

- [PMM-12151](https://jira.percona.com/browse/PMM-12151) - [QAN]: Explain plan not displayed if database name is missing in the query
- [PMM-10391](https://jira.percona.com/browse/PMM-10391) - PMM did not work with external clickhouse versions greater than 22.5.2. The issue has been resolved now.
- [PMM-11658](https://jira.percona.com/browse/PMM-11658) - pmm-agent crashes simultaneously on all nodes
- [PMM-11992](https://jira.percona.com/browse/PMM-11992) - Database name is ignored while adding any Postgres
- [PMM-12161](https://jira.percona.com/browse/PMM-12161) - "MongoDB Cluster Summary" - too many "Config Services"
- [PMM-12231](https://jira.percona.com/browse/PMM-12231) - PMM disallows to install, update and remove plugins
- [PMM-12263](https://jira.percona.com/browse/PMM-12263) - Wrong Replication Lag by Set values if RS is PSA - MongoDB Cluster Summary
- [PMM-12280](https://jira.percona.com/browse/PMM-12280) - Fixed an issue where the **Service Summary Panel** on Home Dashboard used the incorrect units to display `Available Memory`.
- [PMM-10665](https://jira.percona.com/browse/PMM-10665) -  Fixed issue caused QAN to show incorrect values when setting non-default values for performance schema. Make sure to restart pmm-agent after changing the settings for perfschema in MySQL.

## Known issues

**PMM does not allow to install, update or remove plugins**

[PMM-12231](https://jira.percona.com/browse/PMM-12231) - In the recent versions of PMM, users have encountered issues with installing, updating and removing plugins from PMM. The cause of this issue is the incorrect permissions assigned to the `/srv/grafana/plugins` directory. These permissions are preventing the grafana component from accessing the directory.

**Solution**

Set the user ownership on the directory`/srv/grafana/plugins` to `grafana:grafana`.
