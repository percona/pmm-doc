# Percona Monitoring and Management 2.38.1

| **Release date:** | July 13, 2023                                                                                    |
| ----------------- | ----------------------------------------------------------------------------------------------- |
| **Installation:** | [Installing Percona Monitoring and Management](https://www.percona.com/software/pmm/quickstart) |

Percona Monitoring and Management (PMM) is an open-source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB.

## Release Highlights

We have identified and fixed the following issue in PMM 2.38.1:

[PMM-12293](https://jira.percona.com/browse/PMM-12293) - The upgrade to Grafana  9.2.20 in PMM 2.38 fixed critical security [CVE-2023-3128](https://grafana.com/blog/2023/06/22/grafana-security-release-for-cve-2023-3128/) by changing the authentication mechanism to rely solely on the user's unique ID provided by the identity provider.

This change caused an authentication issue for second and subsequent connections to PMM using a Percona Account. With this PMM update, we are fixing this authentication issue to ensure that users can log back into PMM after an initial connection. Previously, this would fail with a "User already exists" error.

With this update, we have fixed the "User already exists" error: an authentication issue that occurred when users tried to log back into PMM through a Percona Account. Second and subsequent logins no longer result in this error. This issue is a consequence of [CVE fix 2023-3128](https://grafana.com/blog/2023/06/22/grafana-security-release-for-cve-2023-3128/) included in PMM 2.38, which increases security by authenticating users based solely on the unique user ID provided by the identity provider.

We encourage you to log into PMM using a Percona Account, as this is a highly secure authentication method. However, if you need to log into PMM via a third-party authentication provider which doesn't support a unique ID field, you can use the following workaround to log into PMM:

  - pass the **GF_AUTH_OAUTH_ALLOW_INSECURE_EMAIL_LOOKUP=1** environment variable to the PMM container **OR**
  - set the **oauth_allow_insecure_email_lookup** config key in the auth section of the `grafana.ini` file. Keep in mind that any changes you make to this file are lost when upgrading PMM, so make sure to manually update this file after each upgrade.

!!! caution alert alert-warning "Important"
    We highly recommend against using the above workaround, and instead encourage you to ensure user uniqueness across multiple identity providers, while also opting for an identity provider that supports a unique ID field.

