# MkDocs configuration
# Used as base - look for .yml files with INHERIT
site_name: Percona Monitoring and Management
site_description: Documentation
site_author: Percona LLC
site_url: ""
copyright: Percona LLC, &#169; 2023
use_directory_urls: false
repo_name: percona/pmm-doc
repo_url: https://github.com/percona/pmm-doc
edit_uri: edit/main/docs/

theme:
  name: material
  logo: _images/percona-logo.svg
  favicon: _images/percona-favicon.ico
  custom_dir: overrides
  font:
    text: Poppins
  palette:

    # Light mode
    - media: "(prefers-color-scheme: light)"
      scheme: percona-light
      toggle:
        icon: material/toggle-switch-off-outline
        name: Switch to dark mode

    # Dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      toggle:
        icon: material/toggle-switch
        name: Switch to light mode

# Theme features

  features:
    - search.highlight
    - navigation.top
    - content.tabs.link
    - content.code.copy 
    - navigation.tracking 
    - content.action.edit
    - content.action.view 

extra_css:
  - https://unicons.iconscout.com/release/v3.0.3/css/line.css
  - https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css
  - css/percona.css
  - css/lightgallery.min.css

#extra_javascript:
#  - js/lightgallery.min.js

markdown_extensions:
  attr_list: {}
  toc:
    permalink: True
  admonition: {}
  def_list: {}
  meta: {}
  smarty: { smart_angled_quotes: true }
  pymdownx.details: {}
  pymdownx.mark: {}
  pymdownx.smartsymbols: {}
  pymdownx.tabbed: 
      {alternate_style: true}
  pymdownx.tilde: {}
  pymdownx.superfences: {}
  pymdownx.highlight:
    linenums: false
  lightgallery: {}
  pymdownx.inlinehilite: {}
  pymdownx.emoji:
      emoji_index: !!python/name:materialx.emoji.twemoji
      emoji_generator: !!python/name:materialx.emoji.to_svg

plugins:
  search: 
    separator: '[\s\-,:!=\[\]()"`/]+|\.(?!\d)|&[lg]t;|(?!\b)(?=[A-Z][a-z])'
  git-revision-date: {}
  macros:
    include_yaml:
      - "variables.yml"
  # https://pypi.org/project/mkdocs-exclude/
  exclude:
    glob:
      - "install-pmm/client/docker.md"
  # https://github.com/orzih/mkdocs-with-pdf
  with-pdf:
    output_path: '_pdf/PerconaMonitoringAndManagement-2.34.0.pdf'
    cover_title: 'Percona Monitoring and Management Documentation'
    cover_subtitle: 2.34.0 (Jan 30, 2023)
    author: "Percona Technical Documentation Team"
    cover_logo: docs/_images/Percona_Logo_Color.png
    custom_template_path: _resources/templates
    enabled_if_env: ENABLE_PDF_EXPORT
  # Check links - but extends build time significantly
  # https://pypi.org/project/mkdocs-htmlproofer-plugin/
  #    htmlproofer: {}
  mike:
    version_selector: false
    css_dir: css
    javascript_dir: js
    canonical_version: null

extra:
  homepage:
    https://docs.percona.com
  consent:
    title: Cookie consent
    description: >- 
      We use cookies to recognize your repeated visits and preferences, as well
      as to measure the effectiveness of our documentation and whether users
      find what they're searching for. With your consent, you're helping us to
      make our documentation better.

# Common navigation for percona.com, render.com and PDF
nav:
  - Home: index.md
  - Release Notes:
      - Release notes index: release-notes/index.md
      - "PMM 2.38.1 (2023-07-13)": release-notes/2.38.1.md
      - "PMM 2.38.0 (2023-07-3)": release-notes/2.38.0.md
      - "PMM 2.37.1 (2023-06-5)": release-notes/2.37.1.md
      - "PMM 2.37.0 (2023-05-2)": release-notes/2.37.0.md
      - "PMM 2.36.0 (2023-03-23)": release-notes/2.36.0.md
      - "PMM 2.35.0 (2023-02-23)": release-notes/2.35.0.md
      - "PMM 2.34.0 (2023-01-30)": release-notes/2.34.0.md
      - 2022:
        - "PMM 2.33.0 (2022-12-13)": release-notes/2.33.0.md
        - "PMM 2.32.0 (2022-11-08)": release-notes/2.32.0.md
        - "PMM 2.31.0 (2022-09-26)": release-notes/2.31.0.md
        - "PMM 2.30.0 (2022-08-24)": release-notes/2.30.0.md
        - "PMM 2.29.1 (2022-07-28)": release-notes/2.29.1.md
        - "PMM 2.29.0 (2022-07-19)": release-notes/2.29.0.md
        - "PMM 2.28.0 (2022-05-12)": release-notes/2.28.0.md
        - "PMM 2.27.0 (2022-04-14)": release-notes/2.27.0.md
        - "PMM 2.26.0 (2022-02-08)": release-notes/2.26.0.md
      - 2021:
          - "PMM 2.25.0 (2021-12-14)": release-notes/2.25.0.md
          - "PMM 2.24.0 (2021-11-18)": release-notes/2.24.0.md
          - "PMM 2.23.0 (2021-10-21)": release-notes/2.23.0.md
          - "PMM 2.22.0 (2021-09-23)": release-notes/2.22.0.md
          - "PMM 2.21.0 (2021-08-26)": release-notes/2.21.0.md
          - "PMM 2.20.0 (2021-08-03)": release-notes/2.20.0.md
          - "PMM 2.19.0 (2021-06-30)": release-notes/2.19.0.md
          - "PMM 2.18.0 (2021-06-01)": release-notes/2.18.0.md
          - "PMM 2.17.0 (2021-05-11)": release-notes/2.17.0.md
          - "PMM 2.16.0 (2021-05-15)": release-notes/2.16.0.md
          - "PMM 2.15.1 (2021-03-18)": release-notes/2.15.1.md
          - "PMM 2.15.0 (2021-03-01)": release-notes/2.15.0.md
          - "PMM 2.14.0 (2021-01-28)": release-notes/2.14.0.md
      - 2020:
          - "PMM 2.13.0 (2020-12-29)": release-notes/2.13.0.md
          - "PMM 2.12.0 (2020-12-01)": release-notes/2.12.0.md
          - "PMM 2.11.1 (2020-10-19)": release-notes/2.11.1.md
          - "PMM 2.11.0 (2020-10-14)": release-notes/2.11.0.md
          - "PMM 2.10.1 (2020-09-22)": release-notes/2.10.1.md
          - "PMM 2.10.0 (2020-09-15)": release-notes/2.10.0.md
          - "PMM 2.9.1 (2020-08-04)": release-notes/2.9.1.md
          - "PMM 2.9.0 (2020-07-14)": release-notes/2.9.0.md
          - "PMM 2.8.0 (2020-06-25)": release-notes/2.8.0.md
          - "PMM 2.7.0 (2020-06-09)": release-notes/2.7.0.md
          - "PMM 2.6.1 (2020-05-18)": release-notes/2.6.1.md
          - "PMM 2.6.0 (2020-05-11)": release-notes/2.6.0.md
          - "PMM 2.5.0 (2020-04-14)": release-notes/2.5.0.md
          - "PMM 2.4.0 (2020-03-18))": release-notes/2.4.0.md
          - "PMM 2.3.0 (2020-02-19)": release-notes/2.3.0.md
          - "PMM 2.2.2 (2020-02-04)": release-notes/2.2.2.md
          - "PMM 2.2.1 (2020-01-23)": release-notes/2.2.1.md
      - 2019:      
          - "PMM 2.2.0 (2019-11-24)": release-notes/2.2.0.md
          - "PMM 2.1.0 (2019-11-11)": release-notes/2.1.0.md
          - "PMM 2.0.1 (2019-10-09)": release-notes/2.0.1.md
          - "PMM 2.0.0 (2019-09-19)": release-notes/2.0.0.md
  - Discover PMM: features.md
  - Quickstart Guide:
      - getstarted.md
  - Install PMM:
      - install-pmm/index.md
      - Before you start: 
        - plan-pmm-installation/hardware_and_system.md
        - plan-pmm-installation/network_and_firewall.md
      - Install PMM server:
        - install-pmm/install-pmm-server/index.md
        - install-pmm/install-pmm-server/prerequisites.md
        - Install PMM with Docker:
          - install-pmm/install-pmm-server/docker/index.md
          - install-pmm/install-pmm-server/docker/run_with_vol.md
          - install-pmm/install-pmm-server/docker/run_with_data_container.md
          - install-pmm/install-pmm-server/docker/run_with_host_dir.md      
          - install-pmm/install-pmm-server/docker/backup_container.md      
          - install-pmm/install-pmm-server/docker/restore_container.md      
          - install-pmm/install-pmm-server/docker/remove_container.md      
          - install-pmm/install-pmm-server/docker/env_var.md      
          - install-pmm/install-pmm-server/docker/preview_env_var.md      
          - install-pmm/install-pmm-server/docker/isolated_hosts.md        
        - install-pmm/install-pmm-server/podman.md
        - install-pmm/install-pmm-server/helm.md
        - Install PMM with Virtual Applinace:
          - install-pmm/install-pmm-server/virtual/index.md
          - install-pmm/install-pmm-server/virtual/download_ova.md
          - install-pmm/install-pmm-server/virtual/vmware.md
          - install-pmm/install-pmm-server/virtual/virtualbox.md
          - install-pmm/install-pmm-server/virtual/login_UI.md
          - install-pmm/install-pmm-server/virtual/remove_virtual_machine.md
        - Install PMM with AWS marketplace:
          - install-pmm/install-pmm-server/aws/aws.md
          - install-pmm/install-pmm-server/aws/limit_access.md
          - install-pmm/install-pmm-server/aws/settings.md
          - install-pmm/install-pmm-server/aws/run.md
          - install-pmm/install-pmm-server/aws/back_pmm_server.md
          - install-pmm/install-pmm-server/aws/restore_pmm_server.md
          - install-pmm/install-pmm-server/aws/remove_pmm_server.md
        - Install PMM with DBaaS:
          - install-pmm/install-pmm-server/dbaas/dbaas.md
          - install-pmm/install-pmm-server/dbaas/activate_dbaas.md
          - install-pmm/install-pmm-server/dbaas/create_k8s_cluster.md
          - install-pmm/install-pmm-server/dbaas/del_cluster.md
          - install-pmm/install-pmm-server/dbaas/run_as_docker.md
          - install-pmm/install-pmm-server/dbaas/expose_clusters_for external_clients.md
        - install-pmm/install-pmm-server/easy-install.md
      - Install PMM client:
        - install-pmm/install-pmm-client/index.md
        - install-pmm/install-pmm-client/prerequisites.md 
        - install-pmm/install-pmm-client/docker.md
        - install-pmm/install-pmm-client/binary_package.md          
        - install-pmm/install-pmm-client/package_manager.md
        - Register client node: install-pmm/register-client-node/index.md 
      - Add services:      
        - install-pmm/add-services/index.md
        - install-pmm/add-services/aws.md
        - install-pmm/add-services/azure.md
        - install-pmm/add-services/external.md
        - install-pmm/add-services/google.md
        - install-pmm/add-services/haproxy.md
        - install-pmm/add-services/linux.md
        - install-pmm/add-services/mongodb.md
        - install-pmm/add-services/mysql.md
        - install-pmm/add-services/postgresql.md
        - install-pmm/add-services/proxysql.md
        - install-pmm/add-services/remote.md
      - Uninstall PMM:
        - uninstall-pmm/index.md
        - uninstall-pmm/uninstall_docker.md
        - uninstall-pmm/uninstall_package_manager.md
        - uninstall-pmm/unregister_client.md
      - Upgrade PMM:
        - pmm-upgrade/index.md
        - pmm-upgrade/ui_upgrade.md
        - pmm-upgrade/upgrade_aws.md    
        - pmm-upgrade/upgrade_docker.md
        - pmm-upgrade/upgrade_agent.md
        - pmm-upgrade/upgrade_from_pmm_1.md
  - Use PMM:
    - PMM user interface: ui/index.md
        - ui/log_in.md
        - ui/controls.md
        - ui/nav.md
        - ui/panels.md
        - ui/timezone.md
        - ui/view.md
      - PMM Inventory:
        - details/dashboards/dashboard-inventory.md     
      - Dashboards:
        - ui/dashboards-panels/index.md
        - Use dashboards:
          - ui/dashboards-panels/use-dashboards/dashboard-feature.md
          - ui/dashboards-panels/use-dashboards/dashboard-settings.md
          - ui/dashboards-panels/use-dashboards/dashboard-time-range.md
        - Manage dashboards:
          - ui/dashboards-panels/manage-dashboards/create-folders.md
          - ui/dashboards-panels/manage-dashboards/manage-folders.md
        - Export and import dashboards:
          - ui/dashboards-panels/export-dashboards/export_dashboards.md
          - ui/dashboards-panels/export-dashboards/import_dashboards.md
        - Set custom home dashboard:
          - ui/dashboards-panels/custom_dashboard/set_personal_home.md
          - ui/dashboards-panels/custom_dashboard/set_custom_team.md
          - ui/dashboards-panels/custom_dashboard/set_custom_for_org.md
        - Share dashboards and panels:
          - ui/dashboards-panels/share-dashboards/share_dashboard.md
          - ui/dashboards-panels/share-dashboards/publish_snapshot.md
        - Annotate:
          - ui/dashboards-panels/annotate/annotate.md              
        - PMM dashboards:
          - Insight:
              - details/dashboards/dashboard-home.md
              - details/dashboards/dashboard-advanced-data-exploration.md
              - details/dashboards/dashboard-victoriametrics.md
              - details/dashboards/dashboard-victoriametrics-agents-overview.md
          - Environments:
              - details/dashboards/dashboard-env-overview.md
              - details/dashboards/dashboard-environent-summary.md
          - DBaas:
              - details/dashboards/dashboard-cluster-summary.md
          - OS Dashboards:
              - details/dashboards/dashboard-cpu-utilization-details.md
              - details/dashboards/dashboard-disk-details.md
              - details/dashboards/dashboard-network-details.md
              - details/dashboards/dashboard-memory-details.md
              - details/dashboards/dashboard-node-temperature-details.md
              - details/dashboards/dashboard-nodes-compare.md
              - details/dashboards/dashboard-nodes-overview.md
              - details/dashboards/dashboard-node-summary.md
              - details/dashboards/dashboard-numa-details.md
              - details/dashboards/dashboard-processes-details.md
          - Prometheus dashboards:
              - details/dashboards/dashboard-prometheus-exporter-status.md
              - details/dashboards/dashboard-prometheus-exporters-overview.md
          - MySQL dashboards:
              - details/dashboards/dashboard-mysql-amazon-aurora-details.md
              - details/dashboards/dashboard-mysql-command-handler-counters-compare.md
              - details/dashboards/dashboard-mysql-innodb-compression-details.md
              - details/dashboards/dashboard-mysql-innodb-details.md
              - details/dashboards/dashboard-mysql-myisam-aria-details.md
              - details/dashboards/dashboard-mysql-myrocks-details.md
              - details/dashboards/dashboard-mysql-instance-summary.md
              - details/dashboards/dashboard-mysql-instances-compare.md
              - details/dashboards/dashboard-mysql-instances-overview.md
              - details/dashboards/dashboard-mysql-wait-event-analyses-details.md
              - details/dashboards/dashboard-mysql-performance-schema-details.md
              - details/dashboards/dashboard-mysql-query-response-time-details.md
              - details/dashboards/dashboard-mysql-replication-summary.md
              - details/dashboards/dashboard-mysql-group-replication-summary.md
              - details/dashboards/dashboard-mysql-table-details.md
              - details/dashboards/dashboard-mysql-user-details.md
              - details/dashboards/dashboard-mysql-tokudb-details.md
          - MongoDB dashboards:
              - details/dashboards/dashboard-mongodb-experimental_collection_overview.md
              - details/dashboards/dashboard-mongodb-experimental_collection_details.md
              - details/dashboards/dashboard-mongodb-experimental_oplog.md
              - details/dashboards/dashboard-mongodb-cluster-summary.md
              - details/dashboards/dashboard-mongodb-instance-summary.md
              - details/dashboards/dashboard-mongodb-instances-overview.md
              - details/dashboards/dashboard-mongodb-instances-compare.md
              - details/dashboards/dashboard-mongodb-replset-summary.md
              - details/dashboards/dashboard-mongodb-inmemory-details.md
              - details/dashboards/dashboard-mongodb-mmapv1-details.md
              - details/dashboards/dashboard-mongodb-wiredtiger-details.md
          - PostgreSQL dashboards:
              - details/dashboards/dashboard-postgresql-instances-overview.md
              - details/dashboards/dashboard-postgresql-instance-summary.md
              - details/dashboards/dashboard-postgresql-instances-compare.md
              - details/dashboards/dashboard-postgresql-vacuum-monitoring-experimental.md
          - ProxySQL dashboards:
              - details/dashboards/dashboard-proxysql-instance-summary.md
          - HA dashboards:
              - details/dashboards/dashboard-pxc-galera-node-summary.md
              - details/dashboards/dashboard-pxc-galera-cluster-summary.md
              - details/dashboards/dashboard-pxc-galera-cluster-summary-experimental.md
              - details/dashboards/dashboard-pxc-galera-nodes-compare.md
              - details/dashboards/dashboard-haproxy-instance-summary.md
    - Database-as-a-Service: dbaas/index.md
      - dbaas/architecture.md
      - Set up DBaaS:
        - dbaas/setup-dbaas/index.md
        - dbaas/setup-dbaas/activate_k8s.md
        - dbaas/setup-dbaas/create_k8s.md
        - dbaas/setup-dbaas/del_k8s.md
        - dbaas/setup-dbaas/components.md  
        - dbaas/setup-dbaas/run_as_docker.md  
        - dbaas/setup-dbaas/expose_clusters.md
      - Manage database clusters:
        - dbaas/manage-dbaas_clusters/add_cluster.md
        - dbaas/manage-dbaas_clusters/edit_cluster.md
        - dbaas/manage-dbaas_clusters/del_cluster.md
        - dbaas/manage-dbaas_clusters/restart_cluster.md
        - dbaas/manage-dbaas_clusters/suspend_cluster.md
        - dbaas/manage-dbaas_clusters/update_cluster.md
      - dbaas/K8s_cluster.md
      - dbaas/dbaas_backup.md
    - Percona Alerting:
      - alert/index.md
      - alert/alert_type.md
      - alert/alert_components.md
      - alert/template_alert.md
      - alert/alert_expressions.md
      - alert/silence_alerts.md
      - alert/disable_alerts.md 
    - Backup and restore:
      - backup/index.md
      - backup/prepare_storage_location.md
      - MongoDB backups:
        - backup/mongodb-backup/backup_mongo.md
        - backup/mongodb-backup/mongo_prerequisites.md
        - backup/mongodb-backup/create_mongo_on_demand.md
        - backup/mongodb-backup/create_PITR_mongo.md
        - backup/mongodb-backup/restore_MongoDB_backups.md
        - backup/mongodb-backup/mongodb_limitations.md
      - MySQL backups:
        - backup/mysql-backup/mysql_prerequisites.md
        - backup/mysql-backup/backup_mysql.md
        - backup/mysql-backup/create_mysql_backup.md
        - backup/mysql-backup/restore_mysql_backup.md
      - backup/edit_scheduled.md
      - backup/delete_a_backup.md
    - Advisors: advisors/advisors.md
    - Query Analytics:
      - qan/index.md
      - qan/qan_mongo.md
      - qan/share_link.md
      - Panels on QAN dashboard:
        - qan/panels/overview.md
        - qan/panels/filters.md
        - qan/panels/details.md
    - PMM metrics: 
      - metrics/index.md
      - metrics/extend_metrics.md 
    - PMM commands:
      - commands/index.md
      - commands/pmm-admin.md
      - commands/pmm-agent.md 
  - Configure PMM:      
      - configure-pmm/configure.md
      - configure-pmm/metrics_res.md
      - configure-pmm/advanced_settings.md
      - configure-pmm/public-address.md
      - configure-pmm/ssh.md
      - configure-pmm/alertmanager.md
      - configure-pmm/percona_platform.md
  - Manage PMM:
      - pmm-admin/index.md
      - Manage users:
        - pmm-admin/manage-users/index.md
        - pmm-admin/manage-users/add_users.md
        - pmm-admin/manage-users/edit_users.md
        - pmm-admin/manage-users/delete_users.md
        - pmm-admin/manage-users/manage_users_in_org.md
      - Roles and permissions:
        - pmm-admin/roles/index.md
        - Access Control in PMM:
          - pmm-admin/roles/access-control/intro.md
          - pmm-admin/roles/access-control/labels.md
          - pmm-admin/roles/access-control/config_access_cntrl.md
          - pmm-admin/roles/access-control/create_roles.md
          - pmm-admin/roles/access-control/manage_roles.md
          - pmm-admin/roles/access-control/assign_roles.md
          - pmm-admin/roles/access-control/usecase.md
      - Organizations:
        - pmm-admin/manage-orgs/index.md
        - pmm-admin/manage-orgs/create_org.md 
        - pmm-admin/manage-orgs/edit_org.md 
        - pmm-admin/manage-orgs/del_org.md
      - Security in PMM:
        - pmm-admin/security/index.md
        - pmm-admin/security/ssl_encryption.md 
        - pmm-admin/security/grafana_cookies.md  
      - Optimize PMM:
        - optimize/index.md
        - optimize/improve_perf.md
        - optimize/change_number_tables.md
        - optimize/disable_table_stats.md 
  - Troubleshoot:
      - troubleshoot/index.md
      - troubleshoot/checklist.md
      - troubleshoot/upgrade_issues.md
      - troubleshoot/config_issues.md
      - DBaaS issues:
        - troubleshoot/dbaas/index.md      
        - troubleshoot/dbaas/olm_issues.md
        - troubleshoot/dbaas/operator_issues.md
      - troubleshoot/alerting_issues.md
      - troubleshoot/qan_issues.md
      - troubleshoot/dashboard_issues.md
      - troubleshoot/components_issues.md
      - troubleshoot/data_issues.md 
  - Reference:
      - reference/index.md 
      - reference/fundamentals.md
      - reference/pmm_components_and_versions.md
      - Third-party components in PMM: 
        - reference/third-party/index.md
        - reference/third-party/victoria.md
        - reference/third-party/clickhouse.md
      -  reference/faq.md
      - PMM API:
        - api/index.md
        - api/authentication.md